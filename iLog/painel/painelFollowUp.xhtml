<?xml version="1.0" encoding="UTF-8" ?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:comp="http://java.sun.com/jsf/composite/componentes">

<f:view contentType="text/html"
	locale="#{localeController.currentLocale}">

	<h:head>
		<script language="javascript">
		function UR_Start(){
			window.status = "no";
			UR_Nu = new Date();
			UR_Indhold = showFilled(UR_Nu.getDate()) + "/" + showFilled(UR_Nu.getMonth()+1) + "/" + showFilled(UR_Nu.getFullYear()) + " " + 
		                 showFilled(UR_Nu.getHours()) + ":" + showFilled(UR_Nu.getMinutes()) + ":" + showFilled(UR_Nu.getSeconds());
				document.getElementById("ds").innerHTML = diaSemana(UR_Nu.getDay());
		    document.getElementById("ur").innerHTML = UR_Indhold;
			setTimeout("UR_Start()",1000);
		}
		function diaSemana(_idias){
			_ds = "";
			if(_idias==0)
				_ds = "#{msgSistema.SUN}";
			if(_idias==1)
				_ds = "#{msgSistema.MON}";
			if(_idias==2)
				_ds = "#{msgSistema.TUE}";
			if(_idias==3)
				_ds = "#{msgSistema.WED}";
			if(_idias==4)
				_ds = "#{msgSistema.THU}";
			if(_idias==5)
				_ds = "#{msgSistema.FRI}";
			if(_idias==6)
				_ds = "#{msgSistema.SAT}";
			return _ds;
		}
		function showFilled(Value){
			return (Value > 9) ? "" + Value : "0" + Value;
		}

		function loopIt(){
			carregarValores();
		}

		

	</script>
		<style type="text/css">
.hora-painel {
	font-family: Arial, Verdana, Helvetica, sans-serif;
	font-size: 20px;
	font-style: normal;
	color: #00525e;
	padding-top: 12px;
	padding-left: 10px;
	margin-top: 5px;
	margin-right: 1px;
	float: right;
}

.idiomas_banner {
	padding-left: 5px;
}

.bordaBox {
	background-image: /pub/img/progress-bar.gif;
	width: 502px;
}

.bordaBox .b1,.bordaBox .b2,.bordaBox .b3,.bordaBox .b4,.bordaBox .b1b,.bordaBox .b2b,.bordaBox .b3b,.bordaBox .b4b
	{
	display: block;
	overflow: hidden;
	font-size: 1px;
}

.bordaBox .b1,.bordaBox .b2,.bordaBox .b3,.bordaBox .b1b,.bordaBox .b2b,.bordaBox .b3b
	{
	height: 1px;
	background-image: /pub/img/progress-bar.gif;
}

.bordaBox .b2,.bordaBox .b3,.bordaBox .b4 {
	background-image: /pub/img/progress-bar.gif;
	background-repeat: repeat-x;
	border-left: 1px solid #999;
	border-right: 1px solid #999;
}

.bordaBox .b1 {
	margin: 0 5px;
	background: #999;
	background-repeat: repeat-x;
}

.bordaBox .b2 {
	margin: 0 3px;
	border-width: 0 2px;
}

.bordaBox .b3 {
	margin: 0 2px;
}

.bordaBox .b4 {
	height: 1px;
	margin: 0 1px;
}

.bordaBox .conteudo {
	padding: 5px;
	display: block;
	background-image: /pub/img/progress-bar_2.gif;
	background-repeat: repeat-x;
	border-left: 1px solid #999;
	border-right: 1px solid #999;
}

.rich-progress-bar-completed {
	background-repeat: repeat-x;
	background-image: url(img/progress-bar_orange.png);
	-moz-border-radius-topright: 2ex;
	-moz-border-radius-topleft: 1ex;
	-moz-border-radius-bottomright: 2ex;
	-moz-border-radius-bottomleft: 1ex;
	-webkit-border-top-right-radius: 1ex;
	-webkit-border-top-left-radius: 1ex;
	border-top-right-radius: 2ex;
	border-bottom-right-radius: 2ex;
	border-bottom-left-radius: 1ex;
	border-top-left-radius: 1ex;
}

.rich-progress-bar-shell-dig {
	-moz-border-radius-topright: 2ex;
	-moz-border-radius-topleft: 1ex;
	-moz-border-radius-bottomright: 2ex;
	-moz-border-radius-bottomleft: 1ex;
	-webkit-border-top-right-radius: 2ex;
	-webkit-border-top-left-radius: 1ex;
	border-top-right-radius: 2ex;
	border-bottom-right-radius: 2ex;
	border-bottom-left-radius: 1ex;
	border-top-left-radius: 1ex;
}

.rich-progress-bar-shell {
	-moz-border-radius-topright: 2ex;
	-moz-border-radius-topleft: 1ex;
	-webkit-border-top-right-radius: 2ex;
	-webkit-border-top-left-radius: 1ex;
}

.rich-progress-bar-width {
	width: 600px;
	height: 30px;
}

.rich-progress-bar-height {
	height: 119px;
}

.rich-progress-bar-uploaded-dig {
	-moz-border-radius-topright: 2ex;
	-moz-border-radius-topleft: 1ex;
	-moz-border-radius-bottomright: 2ex;
	-moz-border-radius-bottomleft: 1ex;
	-webkit-border-top-right-radius: 2ex;
	-webkit-border-top-left-radius: 1ex;
	border-top-right-radius: 2ex;
	border-bottom-right-radius: 2ex;
	border-bottom-left-radius: 1ex;
	border-top-left-radius: 1ex;
}

.rich-progress-bar-uploaded {
	-moz-border-radius-topright: 2ex;
	-moz-border-radius-topleft: 1ex;
	-moz-border-radius-bottomright: 2ex;
	-moz-border-radius-bottomleft: 1ex;
	-webkit-border-top-right-radius: 1ex;
	-webkit-border-top-left-radius: 1ex;
	border-top-right-radius: 1ex;
	border-bottom-right-radius: 1ex;
	border-bottom-left-radius: 1ex;
	border-top-left-radius: 1ex;
}

.logo {
	background-image: url(img/Foxconn_marca_h30.png);
	background-repeat: no-repeat;
	position: relative;
	width: 135px;
	height: 75px;
	margin-left: 15px;
	margin-top: 20px;
	float: left;
}

.titulo-painel {
	font-family: Arial, Verdana, Helvetica, sans-serif;
	font-size: 22px;
	font-weight: bold;
	font-style: normal;
	color: #00525e;
	float: left;
	padding-top: 41px;
	padding-left: 41px;
	position: relative;
}

.red {
	background: red;
	font-size: 12px;
	font-weight: bold;
	color: #008080;
	height: 20px;
	margin-right: 5px;
}

.green {
	bgcolor: green;
	font-size: 12px;
	font-style: normal;
	color: white;
	height: 20px;
	margin-right: 5px;
}

.white {
	bgcolor: white;
	font-size: 12px;
	font-style: normal;
	color: #008080;
	height: 20px;
	margin-right: 5px;
}

.rich-table-subheadercell {
	font-family: 'Arial Black', Helvetica, sans-serif;
	color: #FFFFFF;
	font-size: 16px;
	font-style: normal;
	font-weight: bold;
	background: #00525E;
	text-align: left;
}

th {
	list-style: none;
	font-family: Arial Black, Helvetica, sans-serif;
	font-size: 12px;
	font-style: normal;
	font-weight: bold;
	text-transform: uppercase;
	color: #00525e;
	padding-top: 25px;
	padding-bottom: 5px;
	text-align: left;
}

.fonte-painel {
	FONT-SIZE: 23px;
	COLOR: #ffffff;
	FONT-FAMILY: 'Arial Black';
	text-transform: uppercase;
}

.fonte-painel-Status {
	FONT-SIZE: 22px;
	COLOR: #FFC125;
	FONT-FAMILY: 'Arial Black';
}

.fonte-painel-Status-green {
	FONT-SIZE: 22px;
	COLOR: white;
	FONT-FAMILY: 'Arial Black';
}

.fonte-painel-Status-green-lom {
	FONT-SIZE: 21px;
	COLOR: white;
	FONT-FAMILY: 'Arial Black';
}

.odd-row-panel {
	background-color: #889291;
}

.even-row-panel {
	background-color: #686E6E;
}

.label {
	font-size: 12px;
	font-style: normal;
	color: #008080;
	height: 20px;
	margin-right: 5px;
}

.corstatus1 {
	color: white;
	font-weight: bold;
	font-size: 18 px;
}

.corstatus2 {
	color: #FFC125;
	font-weight: bold;
	font-size: 19 px;
}

.cssColumn1 {
	width: 62px;
}

.cssColumn2 {
	width: 360px;
	text-align: center;
}

.cssColumn3 {
	width: 120px;
}

.cssColumn4 {
	width: 60px;
}


.ui-progressbar {
    height: 1.5em !important;
    position: relative;
    text-align: left;
    
}

.ui-progressbar .ui-progressbar-value {
     background: -moz-linear-gradient(center top , rgba(0, 0, 0, 0), rgba(0, 0, 0, 0)) repeat scroll 0 0 #0F569A !important;

}

.ui-datatable th, .ui-datatable tfoot td {
    height: 40px;
   }

</style>
	</h:head>

	<title>LOM - Transport Follow Up Panel</title>

	<h:body
		style="overflow: hidden; margin: 0; width: 100%; color: #0000ff"
		onload="UR_Start()">

		<h:form id="formIII" prependId="false">

			
				<p:poll id="pollInit" interval="12" 
					listener="#{mBeanPainelFollowUp.carregarPainel}" update="tbValores"></p:poll>


		









			<div style="">
				<div class="logo"></div>
				<div class="titulo-painel">
					<h:outputText value="#{msgCarga.lblFollowUpTransporte}" />
				</div>

				<div class="hora-painel">


					<table border="0" width="250px">
						<tr>
							<td>
								<table border="0">
									<tr>
										<td align="center"><h:panelGroup id="grupo3">
												<label id="ds" size="20" class=""></label>
											</h:panelGroup></td>
									</tr>
									<tr>
										<td align="center"><label id="ur" size="15" class=""></label>
										</td>
									</tr>
								</table>
							</td>
							<td valign="top"><p:commandLink
									action="#{localeController.portugueseLocale}"
									styleClass="idiomas_banner" immediate="true"
									oncomplete="Richfaces.showModalPanel('popupIdioma');return true;">
									<h:graphicImage value="/painel/img/br.png"
										styleClass="bordaNula" />
								</p:commandLink> <p:commandLink action="#{localeController.englishLocale}"
									immediate="true"
									oncomplete="Richfaces.showModalPanel('popupIdioma');return true;"
									styleClass="idiomas_banner">
									<h:graphicImage value="/painel/img/us.png"
										styleClass="bordaNula" />
								</p:commandLink></td>
						</tr>
					</table>



				</div>
				<table width="100%" style="position: absolute; margin-top: 90px;">
					<tr>
						<td>
						<p:dataTable id="tbValores" style="COLOR: #ffffff;"  
							
								var="_item" value="#{mBeanPainelFollowUp.resultPainel}"
								rows="#{mBeanPainelFollowUp.rows}" rowKey="index"
								rowStyleClass="even-row-panel, odd-row-panel">

								<p:column style="width:5%;">
									<f:facet name="header">
										<center>#{msgCarga.lblModal}</center>
									</f:facet>
									<center>
										<h:graphicImage
											value="#{mBeanPainelFollowUp.getTipoModal( _item )}"
											styleClass="bordaNula" />
									</center>
								</p:column>





							

								<p:column style="width:10%;">
									<f:facet name="header">
										<center>#{msgCarga.lblFornecedor}</center>
									</f:facet>
									<center>
										<h:outputText
											value="#{mBeanPainelFollowUp.getFornecedor(_item)}"
											styleClass="uppercaseCss corstatus1"
											style="font-size: 16px;text-transform:uppercase;" />
									</center>
								</p:column>

								<p:column style="width:40%;">
									<f:facet name="header">
										<center>#{msgCarga.lblAcompanhamento}</center>
									</f:facet>
										
									<p:progressBar value="#{mBeanPainelFollowUp.getPercentCarga(_item)}" labelTemplate="{value}%" displayOnly="true" />  
									<h:outputText value="" styleClass="fonte-painel" >
									</h:outputText>
								

									<div
										style="height: 24px; width: 1px; background-image: url(../painel/img/separador.jpg); background-repeat: repeat-y; position: relative; margin-left: 58px; margin-top: -25px;" />
									<div
										style="height: 24px; width: 1px; background-image: url(../painel/img/separador.jpg); background-repeat: repeat-y; position: relative; margin-left: 450px; margin-top: -24px;" />
									<div
										style="height: 24px; width: 1px; background-image: url(../painel/img/separador.jpg); background-repeat: repeat-y; position: relative; margin-left: 575px; margin-top: -24px;" />

									<h:panelGrid columns="4" width="90%"
										columnClasses="cssColumn1,cssColumn2,cssColumn3,cssColumn4">
										<h:outputText value="#{msgCarga.lblPickUp}"
											styleClass="#{mBeanPainelFollowUp.getRetornaStatus(_item)}"
											style="font-size: 16px;" />
										<h:outputText value="#{msgCarga.lblInTransit}"
											styleClass="#{mBeanPainelFollowUp.getRetornaStatusTransit(_item)}"
											style="font-size: 16px;" />

										<h:outputText value="#{msgCarga.lblInCustom}"
											styleClass="#{mBeanPainelFollowUp.getRetornaStatusCustom(_item)}"
											style="font-size: 16px;" />

										<h:outputText value="#{msgCarga.lblFoxConn}"
											styleClass="#{mBeanPainelFollowUp.getRetornaStatusLom(_item)}"
											style="font-size: 16px;" />

									</h:panelGrid>
								</p:column>







								<p:column style="width:4%;">
									<f:facet name="header">
										<center>#{msgParametros.lblCanal}</center>
									</f:facet>
									<center>
										<h:outputText value=""
											styleClass="#{item.parametroCanal.canal}">
											<h:graphicImage
												value="/pub/img/ball_#{_item.canal.canal}.png"
												styleClass="bordaNula" width="52px" height="52px" />
										</h:outputText>
									</center>
								</p:column>

								<p:column  style="width:8%;">
									
									<f:facet name="header">
									
										<p:outputPanel id="panelStatus">
											<p:outputPanel id="header1"
												rendered="#{mBeanPainelFollowUp.statusPoll}">
												
											</p:outputPanel>
											<p:outputPanel id="header2"
												rendered="#{!mBeanPainelFollowUp.statusPoll}">
												<center>#{msgCarga.lblStatus}</center>
											</p:outputPanel>
										</p:outputPanel>
										
									</f:facet>


									<center>




										<h:outputText id="statusCarga"
											value="#{mBeanPainelFollowUp.getRetornaStatusCarga(_item)}"
											rendered="#{!mBeanPainelFollowUp.statusPoll}"
											styleClass="#{mBeanPainelFollowUp.getRetornaStyle(_item)}">
										</h:outputText>





									</center>
								</p:column  >



								<p:column style="width:8%;">
									<f:facet name="header">
										<center>#{msgCarga.lblDTPrevista}</center>
									</f:facet>
									<h:outputText value="#{_item.dtPrevista}"
										
										styleClass="fonte-painel">

										<f:convertDateTime pattern="dd/MM/yyyy" />

									</h:outputText>
								</p:column>


								<p:column style="width:8%;">
									<f:facet name="header">
										<center>#{msgCarga.lblChegada}</center>
									</f:facet>
									<h:outputText value="#{_item.dtChegada}"
										styleClass="fonte-painel">
										<f:convertDateTime pattern="dd/MM/yyyy" />
									</h:outputText>
								</p:column>






							</p:dataTable></td>
					</tr>
				</table>
			</div>

		</h:form>
		<ui:include src="/painel/popups/popupIdiomaPainel.xhtml" />
		</h:body>
</f:view>
</html>